<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 50 Cognitive Biases (Dark Mode)</title>
    <style>
        /* Existing CSS */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #1A1A1A;
            color: #E0E0E0;
        }
        /* ... other existing styles ... */

        /* RTL adjustments for Arabic and Persian */
        .rtl .bias-container,
        .rtl .bias,
        .rtl h1,
        .rtl footer {
            direction: rtl;
            text-align: right;
        }
    </style>
</head>
<body>
    <h1 id="title"></h1>
    <div class="toggle">
        <div class="toggle-item">
            <button id="toggleEn" class="active">ğŸ‡¬ğŸ‡§</button>
            <span id="labelEn"></span>
        </div>
        <div class="toggle-item">
            <button id="toggleZh" class="inactive">ğŸ‡¨ğŸ‡³</button>
            <span id="labelZh"></span>
        </div>
        <div class="toggle-item">
            <button id="toggleJa" class="inactive">ğŸ‡¯ğŸ‡µ</button>
            <span id="labelJa"></span>
        </div>
        <div class="toggle-item">
            <button id="toggleFi" class="inactive">ğŸ‡«ğŸ‡®</button>
            <span id="labelFi"></span>
        </div>
        <div class="toggle-item">
            <button id="toggleAr" class="inactive">ğŸ‡¸ğŸ‡¦</button>
            <span id="labelAr"></span>
        </div>
        <div class="toggle-item">
            <button id="toggleRu" class="inactive">ğŸ‡·ğŸ‡º</button>
            <span id="labelRu"></span>
        </div>
        <div class="toggle-item">
            <button id="toggleNl" class="inactive">ğŸ‡³ğŸ‡±</button>
            <span id="labelNl"></span>
        </div>
        <div class="toggle-item">
            <button id="toggleHi" class="inactive">ğŸ‡®ğŸ‡³</button>
            <span id="labelHi"></span>
        </div>
        <!-- Add Persian toggle button -->
        <div class="toggle-item">
            <button id="toggleFa" class="inactive">ğŸ‡®ğŸ‡·</button>
            <span id="labelFa"></span>
        </div>
    </div>
    <div class="bias-container" id="biasContainer"></div>
    <footer id="footer"></footer>

    <!-- Import language constants -->
    <script src="constants_en.js"></script>
    <script src="constants_zh.js"></script>
    <script src="constants_ja.js"></script>
    <script src="constants_fi.js"></script>
    <script src="constants_ar.js"></script>
    <script src="constants_ru.js"></script>
    <script src="constants_nl.js"></script>
    <script src="constants_hi.js"></script>
    <!-- Add Persian constants -->
    <script src="constants_fa.js"></script>

    <script>
        const languageMap = {
            'en': constants_en,
            'zh': constants_zh,
            'ja': constants_ja,
            'fi': constants_fi,
            'ar': constants_ar,
            'ru': constants_ru,
            'nl': constants_nl,
            'hi': constants_hi,
            'fa': constants_fa  // Add Persian to the language map
        };

        let currentLang = 'en'; // Start with English

        function renderBiases() {
            const constants = languageMap[currentLang];
            const container = document.getElementById('biasContainer');
            container.innerHTML = '';

            constants.biases.forEach(bias => {
                const div = document.createElement('div');
                div.className = 'bias';
                div.innerHTML = `
                    <h2><a href="${constants.searchBase}${encodeURIComponent(bias.name)}" target="_blank">${bias.name}</a></h2>
                    <p>${bias.desc}</p>
                `;
                container.appendChild(div);
            });

            document.getElementById('title').textContent = constants.title;
            document.getElementById('footer').textContent = constants.footer;

            // Update labels
            document.getElementById('labelEn').textContent = languageMap['en'].label;
            document.getElementById('labelZh').textContent = languageMap['zh'].label;
            document.getElementById('labelJa').textContent = languageMap['ja'].label;
            document.getElementById('labelFi').textContent = languageMap['fi'].label;
            document.getElementById('labelAr').textContent = languageMap['ar'].label;
            document.getElementById('labelRu').textContent = languageMap['ru'].label;
            document.getElementById('labelNl').textContent = languageMap['nl'].label;
            document.getElementById('labelHi').textContent = languageMap['hi'].label;
            document.getElementById('labelFa').textContent = languageMap['fa'].label; // Add Persian label

            // Update button states
            document.getElementById('toggleEn').className = currentLang === 'en' ? 'active' : 'inactive';
            document.getElementById('toggleZh').className = currentLang === 'zh' ? 'active' : 'inactive';
            document.getElementById('toggleJa').className = currentLang === 'ja' ? 'active' : 'inactive';
            document.getElementById('toggleFi').className = currentLang === 'fi' ? 'active' : 'inactive';
            document.getElementById('toggleAr').className = currentLang === 'ar' ? 'active' : 'inactive';
            document.getElementById('toggleRu').className = currentLang === 'ru' ? 'active' : 'inactive';
            document.getElementById('toggleNl').className = currentLang === 'nl' ? 'active' : 'inactive';
            document.getElementById('toggleHi').className = currentLang === 'hi' ? 'active' : 'inactive';
            document.getElementById('toggleFa').className = currentLang === 'fa' ? 'active' : 'inactive'; // Add Persian button state

            // Toggle RTL for Arabic and Persian
            document.body.className = (currentLang === 'ar' || currentLang === 'fa') ? 'rtl' : '';
        }

        // Add event listeners for each toggle button
        document.getElementById('toggleEn').addEventListener('click', () => {
            currentLang = 'en';
            renderBiases();
        });

        document.getElementById('toggleZh').addEventListener('click', () => {
            currentLang = 'zh';
            renderBiases();
        });

        document.getElementById('toggleJa').addEventListener('click', () => {
            currentLang = 'ja';
            renderBiases();
        });

        document.getElementById('toggleFi').addEventListener('click', () => {
            currentLang = 'fi';
            renderBiases();
        });

        document.getElementById('toggleAr').addEventListener('click', () => {
            currentLang = 'ar';
            renderBiases();
        });

        document.getElementById('toggleRu').addEventListener('click', () => {
            currentLang = 'ru';
            renderBiases();
        });

        document.getElementById('toggleNl').addEventListener('click', () => {
            currentLang = 'nl';
            renderBiases();
        });

        document.getElementById('toggleHi').addEventListener('click', () => {
            currentLang = 'hi';
            renderBiases();
        });

        // Add Persian event listener
        document.getElementById('toggleFa').addEventListener('click', () => {
            currentLang = 'fa';
            renderBiases();
        });

        renderBiases();
    </script>
</body>
</html>
